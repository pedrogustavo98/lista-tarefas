<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <title>Agenda de eventos</title>
</head>

<body onload="analisarStorage()">
    <header>
        <div class="container-conteudo">
            <div class="formulario">
                <div class="row">
                    <div class="col-md-12 campos">
                        <label for="titulo">Título do evento</label>
                        <input type="text" class="input-padrao input-geral" id="titulo" placeholder="Ex.: Comemoração de natal">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 campos">
                        <label for="">Descrição</label>
                        <textarea class="textarea input-geral" id="descricao"
                            placeholder="Ex.: O evento ocorrerá entre os familiares e amigos..." cols="30"
                            rows="10"></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 d-flex justify-content-between">
                        <div class="col-md-6 campos">
                            <label for="">Data Início</label>
                            <input type="date" class="input-padrao input-geral" placeholder="Ex.: Concluir o relatório"
                                id="data-inicio">
                        </div>
                        <div class="col-md-5 campos">
                            <label for="">Hora Início</label>
                            <input type="time" class="input-padrao input-geral" placeholder="Ex.: Concluir o relatório"
                                id="hora-inicio">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 d-flex justify-content-between">
                        <div class="col-md-6 campos">
                            <label for="">Data Fim</label>
                            <input type="date" class="input-padrao input-geral" placeholder="Ex.: Concluir o relatório"
                                id="data-fim">
                        </div>
                        <div class="col-md-5 campos">
                            <label for="">Hora Fim</label>
                            <input type="time" class="input-padrao input-geral" placeholder="Ex.: Concluir o relatório"
                                id="hora-fim">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 d-flex justify-content-center mt-5">
                        <button onclick="verificaCampos()">Cadastrar</button>
                    </div>
                </div>

            </div>

        </div>

        <div id="box" class="d-flex w-100 flex-wrap">

        </div>
    </header>
    <script>
        setInterval(() => {
            let cards = document.querySelectorAll('.card-assunto');

            cards.forEach((element, index) => {
                let dataFimCard = document.getElementById(`data_fim-${index}`)?.textContent;
                let horaFimCard = document.getElementById(`hora_fim-${index}`)?.textContent;
                const DATA_CARD = dataFimCard + ' ' + horaFimCard;
                let dataCliente = new Date(Date.now()).toLocaleString().split(',');
                const DATA_ATUAL = dataCliente[0] + dataCliente[1].slice(0, -3);

                if (DATA_ATUAL >= DATA_CARD) {
                    document.getElementsByClassName('card-assunto')[index].style.background = "red";
                }
            });

        }, 1);
    </script>
    <script src="config.js"></script>
</body>

</html>